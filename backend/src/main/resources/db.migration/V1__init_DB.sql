create table department (department_id int8 generated by default as identity, name varchar(255), short_name varchar(255), facility_id int8, primary key (department_id));
create table disciplines (discipline_id int8 generated by default as identity, name varchar(255), primary key (discipline_id));
create table facility (facility_id int8 generated by default as identity, name varchar(255), short_name varchar(255), primary key (facility_id));
create table groups (group_id int8 generated by default as identity, course int4, name varchar(255), department_id int8, primary key (group_id));
create table schedule (schedule_id int8 generated by default as identity, classroom varchar(255), time timestamp, discipline_id int8, group_id int8, teacher_id int8, primary key (schedule_id));
create table students (student_id int8 generated by default as identity, email varchar(255), name varchar(255), phone varchar(255), teacher_id int8, primary key (student_id));
create table students_schedules (schedule_id int8 not null, student_id int8 not null);
create table teacher (teacher_id int8 generated by default as identity, email varchar(255), name varchar(255), phone varchar(255), surname varchar(255), primary key (teacher_id));
alter table if exists department add constraint FKr7j93f2ckln6t9vrd5ap7km93 foreign key (facility_id) references facility;
alter table if exists groups add constraint FKf4w4m3sqryln3xocgqdvvgdkf foreign key (department_id) references department;
alter table if exists schedule add constraint FKofoam6s26rvyyc9rcn39470gj foreign key (discipline_id) references disciplines;
alter table if exists schedule add constraint FKkdul19ou5sp7di9s7r9kx7jjy foreign key (group_id) references groups;
alter table if exists schedule add constraint FKof1t073hsxioayk2covxfe8um foreign key (teacher_id) references teacher;
alter table if exists students add constraint FKougrw6pw4r9ntbj3p8mnn39nh foreign key (teacher_id) references groups;
alter table if exists students_schedules add constraint FKqblfwo40eeih1kcr6de200yya foreign key (student_id) references students;
alter table if exists students_schedules add constraint FK4wis7xjgw5hj7jg1vo24ik8su foreign key (schedule_id) references schedule;
